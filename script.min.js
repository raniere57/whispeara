document.addEventListener('DOMContentLoaded',function(){const modal=document.getElementById('welcomeModal');const modalClose=document.getElementById('modalClose');const stayReviewBtn=document.getElementById('stayReview');const goOfficialBtn=document.getElementById('goOfficial');setTimeout(()=>{modal.classList.add('show')},500);function closeModal(){modal.classList.remove('show');setTimeout(()=>{modal.style.display='none'},300)}modalClose.addEventListener('click',closeModal);modal.addEventListener('click',function(e){if(e.target===modal){closeModal()}});stayReviewBtn.addEventListener('click',closeModal);goOfficialBtn.addEventListener('click',function(){closeModal()});document.addEventListener('keydown',function(e){if(e.key==='Escape'&&modal.classList.contains('show')){closeModal()}});const internalLinks=document.querySelectorAll('a[href^="#"]');internalLinks.forEach(link=>{link.addEventListener('click',function(e){e.preventDefault();const targetId=this.getAttribute('href');const targetElement=document.querySelector(targetId);if(targetElement){targetElement.scrollIntoView({behavior:'smooth',block:'start'})}})});const images=document.querySelectorAll('img');images.forEach(img=>{img.addEventListener('load',function(){this.style.opacity='1'});if(img.complete){img.style.opacity='1'}});const ctaButtons=document.querySelectorAll('.cta-button');ctaButtons.forEach(button=>{button.addEventListener('click',function(e){console.log('CTA clicked:',this.textContent)})});const sections=document.querySelectorAll('.content-section');const tocLinks=document.querySelectorAll('.toc a');function updateActiveSection(){let current='';sections.forEach(section=>{const sectionTop=section.offsetTop-100;const sectionHeight=section.offsetHeight;if(window.pageYOffset>=sectionTop&&window.pageYOffset<sectionTop+sectionHeight){current=section.getAttribute('id')}});tocLinks.forEach(link=>{link.classList.remove('active');if(link.getAttribute('href')==='#'+current){link.classList.add('active')}})}let scrollTimeout;window.addEventListener('scroll',function(){if(scrollTimeout){clearTimeout(scrollTimeout)}scrollTimeout=setTimeout(updateActiveSection,10)},{passive:true});updateActiveSection();const style=document.createElement('style');style.textContent='.toc a.active{background:#667eea;color:white;transform:translateX(5px)}';document.head.appendChild(style);document.addEventListener('keydown',function(e){if(e.key==='Tab'){document.body.classList.add('keyboard-navigation')}});document.addEventListener('mousedown',function(){document.body.classList.remove('keyboard-navigation')});const keyboardStyle=document.createElement('style');keyboardStyle.textContent='.keyboard-navigation *:focus{outline:2px solid #667eea !important;outline-offset:2px !important}';document.head.appendChild(keyboardStyle);function preloadCriticalImages(){const criticalImages=['images/Whispeara1.webp','images/woman-using-product.webp'];criticalImages.forEach(src=>{const link=document.createElement('link');link.rel='preload';link.as='image';link.href=src;document.head.appendChild(link)})}preloadCriticalImages();function updateMetaTags(){const currentTime=new Date().toISOString();const metaUpdated=document.querySelector('meta[name="updated"]');if(!metaUpdated){const meta=document.createElement('meta');meta.name='updated';meta.content=currentTime;document.head.appendChild(meta)}}updateMetaTags();console.log('Whispeara Review Page loaded successfully');console.log('Ready for affiliate link integration')});
